# 客户端负载均衡 ribbon参数配置
ribbon:
  ReadTimeout: 10000 # 请求处理的超时时间 毫秒
  ConnectTimeout: 10000  # 请求连接的超时时间 毫秒
  MaxAutoRetries: 2 # 对当前实例的重试次数
  MaxAutoRetriesNextServer: 1 # 切换实例的重试次数
#   hystrix 断路器配置
hystrix:
  command:
    default:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: 360000 # 毫秒,断路器超时时间 超过触发熔断,一般配置要大于robbin的超时时间
  threadpool:
    default:
      allowMaximumSizeToDivergeFromCoreSize: true # true 使maximumSize配置生效
      maximumSize: 200 # 默认 maximumSize = coreSize = 10
#eureka配置
eureka:
  instance:
    lease-renewal-interval-in-seconds: 5
    lease-expiration-duration-in-seconds: 5
    prefer-ip-address: true

feign:
  hystrix:
    enabled: true
  client:
    config:
      default:
        connectTimeout: 360000
        readTimeout: 360000
---
spring:
  profiles: dev
  cloud:
    config:
      discovery:
        enabled: true
        service-id: config-server
      fail-fast: true
app:
  request-proxy-forward:
    enabled: true
---
spring:
  profiles: test
  cloud:
    config:
      discovery:
        enabled: true
        service-id: config-server
      fail-fast: true
---
spring:
  profiles: preprod
  cloud:
    config:
      discovery:
        enabled: true
        service-id: config-server
      fail-fast: true
---
spring:
  profiles: prod
  cloud:
    config:
      discovery:
        enabled: true
        service-id: config-server
      fail-fast: true
#eureka配置
eureka:
  instance:
    lease-renewal-interval-in-seconds: 30
    lease-expiration-duration-in-seconds: 90
    prefer-ip-address: true